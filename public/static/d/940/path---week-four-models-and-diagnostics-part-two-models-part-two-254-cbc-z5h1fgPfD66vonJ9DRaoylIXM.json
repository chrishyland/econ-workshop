{"data":{"markdownRemark":{"html":"<h2>Why Functional Programming?</h2>\n<p>Throughout the your programming career, we've mainly been approaching coding in Python from an object oriented perspective. Usually, what this means is that we have objects whose states changes over time (e.g. pokemon object is levelling up)</p>\n<p>Sometimes, we can design programs which can solve things purely through functions. tl;dr: when we don't need objects to design the program. This is where Functional programming comes into play!</p>\n<hr>\n<h2>Let's get into it!</h2>\n<p>Functional programming is STATELESS aka they rely only on their given inputs to produce an output.</p>\n<p>So here's an example. We first create a global variable <code class=\"language-text\">X</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">X <span class=\"token operator\">=</span> <span class=\"token number\">5</span></code></pre></div>\n<p>We then have the 2 following functions.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">non_func_sum</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> y <span class=\"token operator\">+</span> X\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">func_sum</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y</code></pre></div>\n<p>These obviously will give us the same answer if we let x=X=5 and y=10. However, the first function uses a global variable (a state) to compute it whilst the second one doesn't. Hence, the second function is an example of functional programming. Pure functions have the advantage of not suffering from side effects of states occurring (e.g. if you accidently change X, you're in trouble).</p>\n<p>Now that we've gotten that out of the way, we need to make a quick detour in lambda expressions which are a good example of functional programming and will see how all this is pratical.</p>\n<hr>\n<h2>Lambda Functions</h2>\n<p>Lambda functions are anonymous functions. In other words, they are functions that don't have a name :( </p>\n<p>Generally, they tend to be a 1 line function which then can be used within other functions to do things.</p>\n<h4>Let's write our own lambda function!</h4>\n<p>If we wanted to write a function that takes in a number and adds 10, we normally go:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">add_ten</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">10</span></code></pre></div>\n<p>This is a a bit tedious and kinda of a waste of code to write. We can be more concise with this by going:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span> x<span class=\"token operator\">+</span>y</code></pre></div>\n<p>This creates a lambda function where we take in a variable x and return x+10. Hence, the keyword lambda here lets Python know we are defining a lambda function, the new few variable before the : are the arguments for our lambda function, and the expression after the : is the code we execute for our lambda expression. Running this actually doesn't do anything. We need to actually assign it to a variable so we can start using it.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">ma_new_func <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>ma_new_func<span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>40</p>\n</blockquote>\n<p>Yay it works!. Note that we do not have to type the return command here (e.g. return x+10).</p>\n<hr>\n<h2>Building things with lambda expressions.</h2>\n<p>We can also place lambda functions into other functions. The sort function can take in an argument on HOW you want the list to be sorted. Suppose we have the list of tuples like this: </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">unsorted <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Let's say we want to sort it by the characters and also another list sorted by integers. With lambda expressions, we can just go:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>unsorted<span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>unsorted<span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The key part is the lambda function that helps us get the 0th or 1st index in the tuple which we then sort on.</p>\n<p><strong>So to summarise lambda functions, it has this form:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># lambda variable: operation to perform</span></code></pre></div>\n<p>As you seen earlier, we can also have multiple arguments in our lambda expression by going:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">sum_func <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sum_func<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h2>Bringing it all together!</h2>\n<p>We have seem lambda functions and how we can put them into other functions. Now let's see what sorts of functions we can put these lambda functions into!</p>\n<h3>FILTER</h3>\n<p>This helps you to filter out a list</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># We need a list or else we just get back a filter object.</span>\na <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>[1, 3]</p>\n</blockquote>\n<p>Our new list a is a filtered list! Note that what we get back from our the filter function is actually a filter object, hence we turn it into a list by going list() in order to get back a list. This will be a common thread in other functions we will see shortly.</p>\n<h3>MAP</h3>\n<p>Applies a function onto every element in our collection. It may be a bit trippy since we are passing in a function as a argument but that's valid! Functions that lets us do this is called a first-class function. So in particular, map takes in a collection and a function. It then applies that function on each element in that collection.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Map function\"</span><span class=\"token punctuation\">)</span>\nl <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\np <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>[2, 3, 4, 5, 6]</p>\n</blockquote>\n<p>The list has been updated! However, be aware of some caveats.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span> <span class=\"token comment\"># this is still the same... why... </span></code></pre></div>\n<blockquote>\n<p>[1, 2, 3, 4, 5]</p>\n</blockquote>\n<p>Note that the map function doesn't actually alter the original list. It gives us back a map object with the new altered list which we then turn into a list.</p>\n<p>Note that we can do a more pythonic way of this by using list comprehensions.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Map alternative.</span>\nadd_10 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> l<span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>add_10<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>ZIP</h3>\n<p>This merges collections into tuples and this whole thing is an iterable!</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\nk <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span>\nz <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span>\n\nf <span class=\"token operator\">=</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is what each element from the iterator will expand to:\n</p>\n<blockquote>\n<p>f[0] = (1, 9)\nf[1] = (2, 8)\nf[2] = (3, 7)\nf[3] = (4, 6)</p>\n</blockquote>\n<p>In other words, we are doing something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">p <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>REDUCE</h3>\n<p>Reduce takes in an iterable and reduces it to a single value.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> functools <span class=\"token keyword\">import</span> <span class=\"token builtin\">reduce</span>\nmy_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span><span class=\"token number\">40</span><span class=\"token punctuation\">]</span>\nvalue <span class=\"token operator\">=</span> <span class=\"token builtin\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">:</span> a<span class=\"token operator\">+</span>b<span class=\"token punctuation\">,</span> my_list<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>100</p>\n</blockquote>\n<p>What this does is that it:</p>\n<ul>\n<li>Sums 10+20 = 30. </li>\n<li>Then it does 30+30 = 60. </li>\n<li>Finally 60+40 = 100.</li>\n</ul>\n<p>Max, min etc is an example of reduce as they take in an iterable and gives us back a single value.</p>\n<hr>\n<h1>Conclusion</h1>\n<p>Hopefully this post achieved 2 things.</p>\n<ol>\n<li>\n<p>Beginners are able to take away some nifty little things or understand what's happening behind some of the functions they use.</p>\n</li>\n<li>\n<p>Actual functional programmers have not gone blind from reading this.</p>\n</li>\n</ol>\n<h3>Credits:</h3>\n<ul>\n<li><a href=\"https://www.dataquest.io/blog/introduction-functional-programming-python/\">https://www.dataquest.io/blog/introduction-functional-programming-python/</a></li>\n<li>INFO1110 Course at USYD.</li>\n</ul>","frontmatter":{"title":"Statistical Models in Python Part Two","description":"Running Models and Diagnosing them in Python"}}},"pageContext":{"slug":"/Week Four: Models and Diagnostics Part Two/models-part-two/"}}